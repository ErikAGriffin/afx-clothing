<!DOCTYPE html>
<html ng-app="afxClothing">
  <head>
    <title>AFX Clothing</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" href="components/pure/base-min.css" />
    <link rel="stylesheet" href="components/pure/grids-min.css" />
    <link rel="stylesheet" href="styles/pure-grids-xs.css" />
    <link rel="stylesheet" href="components/pure/grids-responsive-min.css" />

    <link rel="stylesheet" href="styles/style.css" />

    <script type="text/javascript" src="components/angular/angular.min.js"></script>
    <script type="text/javascript" src="components/angular-animate/angular-animate.min.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <script type="text/javascript" src="js/services.js"></script>
    <script type="text/javascript" src="js/directives.js"></script>
  </head>
  <body ng-controller="ProductsController as productsCtrl">

    <template>
      Notes.

      There are a few initial design choices I regret.

      The first is deciding that to give products IDs regardless
      of color, instead of a different UUID for every possible product,
      and the second is mocking my data in an array instead of
      a hash with product id's as keys.

      The combination of these two flaws led to nested loops
      (O n^2) as well as the pain of having to constantly consider
      color when dealing with objects.

      Another cause of some headache was creating smaller child objects
      for the carts, instead of adding the actual original product object.
      I though since it was to be stored in the session I should make the
      objects as small as possible, but now I believe this was just premature
      optimization.

      - move code into directives
    </template>


      <header class="pure-g"  ng-mouseleave="productsCtrl.hoverClear()">
        <div class="left-header pure-u-1 pure-u-sm-1-3" ng-mouseenter="productsCtrl.hoverClear()">
          <a ng-click="productsCtrl.resetFilter()">
            <img class="pure-img" src="images/logo.png" />
          </a>
          <section ng-show="productsCtrl.isCartShowing" ng-mouseup="productsCtrl.hideCart()">&nbsp;</section>
          <section ng-class="{'shopping-cart':productsCtrl.isCartShowing}">
            <a ng-click="productsCtrl.showCart()">
              Shopping Cart <span class="count">{{productsCtrl.cart.length}}</span>
            </a>
            <!-- Modular Shopping Cart -->
            <shopping-cart></shopping-cart>
          </section>
        </div>
        <!-- Primary Menu -->
        <div class="right-header pure-u-1 pure-u-sm-2-3" ng-mouseup="productsCtrl.hideCart()">
          <gender-select></gender-select>
          <!-- Secondary Options -->
          <mens-categories></mens-categories>
          <womens-categories></womens-categories>
        </div>
      </header>

      <!-- Product Display -->
      <main ng-class="{'fade':productsCtrl.isCartShowing}" ng-mouseup="productsCtrl.hideCart()">
        <section class="pure-g product-row">
          <li ng-show="productsCtrl.isProductShown(product)" ng-repeat="product in productsCtrl.products" class="pure-u-1 pure-u-xs-1-2 pure-u-sm-1-3 pure-u-md-1-4 pure-u-lg-1-5">
            <product-box></product-box>
          </li>
        </section>
      </main>


  </body>
</html>
